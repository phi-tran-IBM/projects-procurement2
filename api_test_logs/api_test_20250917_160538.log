2025-09-17 16:05:38,780 | INFO     | main                      | Test Run ID: 20250917_160538
2025-09-17 16:05:38,780 | INFO     | main                      | Log File: api_test_logs/api_test_20250917_160538.log
2025-09-17 16:05:38,780 | INFO     | main                      | Results: api_test_logs/api_results_20250917_160538.json
2025-09-17 16:05:38,780 | INFO     | main                      | API URL: http://localhost:8080
2025-09-17 16:05:38,780 | INFO     | run_all_tests             | 
======================================================================
2025-09-17 16:05:38,781 | INFO     | run_all_tests             | API TEST SUITE - Testing http://localhost:8080
2025-09-17 16:05:38,781 | INFO     | run_all_tests             | ======================================================================
2025-09-17 16:05:38,781 | INFO     | check_api_health          | 
üîç Checking API Health...
2025-09-17 16:05:38,781 | DEBUG    | _make_request             | üåê GET http://localhost:8080/health
2025-09-17 16:05:39,463 | DEBUG    | _make_request             |    Response: 200 in 0.68s
2025-09-17 16:05:39,463 | INFO     | check_api_health          |    ‚úÖ API is healthy and responding
2025-09-17 16:05:39,463 | DEBUG    | _make_request             | üåê GET http://localhost:8080/health
2025-09-17 16:05:39,551 | DEBUG    | _make_request             |    Response: 200 in 0.09s
2025-09-17 16:05:39,551 | INFO     | check_api_health          |    üìä Component Status:
2025-09-17 16:05:39,551 | INFO     | check_api_health          |       ‚Ä¢ cache: healthy
2025-09-17 16:05:39,551 | INFO     | check_api_health          |       ‚Ä¢ database: healthy
2025-09-17 16:05:39,551 | INFO     | check_api_health          |       ‚Ä¢ enhanced_rag: available
2025-09-17 16:05:39,551 | INFO     | check_api_health          |       ‚Ä¢ llm_decomposer: available
2025-09-17 16:05:39,551 | INFO     | check_api_health          |       ‚Ä¢ vendor_resolver: healthy
2025-09-17 16:05:39,551 | INFO     | run_all_tests             | 
--------------------------------------------------
2025-09-17 16:05:39,551 | INFO     | run_all_tests             | OPTIMIZATION TESTS
2025-09-17 16:05:39,552 | INFO     | run_all_tests             | --------------------------------------------------
2025-09-17 16:05:39,552 | INFO     | test_smart_routing        | 
üß™ Testing Smart Routing...
2025-09-17 16:05:39,552 | INFO     | test_smart_routing        |    Testing: Simple aggregation - should bypass LLM
2025-09-17 16:05:39,552 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:39,552 | DEBUG    | _make_request             |    Payload: {
  "question": "total spending",
  "mode": "auto"
}
2025-09-17 16:05:39,669 | DEBUG    | _make_request             |    Response: 200 in 0.12s
2025-09-17 16:05:39,669 | INFO     | test_smart_routing        |       ‚úÖ LLM bypassed, responded in 0.12s
2025-09-17 16:05:39,669 | INFO     | test_smart_routing        |       ‚úÖ Met <1s target
2025-09-17 16:05:39,669 | INFO     | test_smart_routing        |    Testing: Simple calculation - should bypass LLM
2025-09-17 16:05:39,669 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:39,669 | DEBUG    | _make_request             |    Payload: {
  "question": "average order value",
  "mode": "auto"
}
2025-09-17 16:05:39,791 | DEBUG    | _make_request             |    Response: 200 in 0.12s
2025-09-17 16:05:39,791 | INFO     | test_smart_routing        |       ‚úÖ LLM bypassed, responded in 0.12s
2025-09-17 16:05:39,792 | INFO     | test_smart_routing        |       ‚úÖ Met <1s target
2025-09-17 16:05:39,792 | INFO     | test_smart_routing        |    Testing: Simple count - should bypass LLM
2025-09-17 16:05:39,792 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:39,792 | DEBUG    | _make_request             |    Payload: {
  "question": "how many vendors",
  "mode": "auto"
}
2025-09-17 16:05:39,985 | DEBUG    | _make_request             |    Response: 500 in 0.19s
2025-09-17 16:05:39,985 | WARNING  | _make_request             |    ‚ö†Ô∏è  Non-200 status: 500
2025-09-17 16:05:39,985 | DEBUG    | _make_request             |    Response body: {"error":"Object of type int64 is not JSON serializable"}

2025-09-17 16:05:39,986 | ERROR    | test_smart_routing        |       ‚ùå Request failed
2025-09-17 16:05:39,986 | INFO     | test_vendor_resolver      | 
üß™ Testing VendorResolver...
2025-09-17 16:05:39,986 | DEBUG    | _make_request             | üåê GET http://localhost:8080/resolve-vendor/DELL
2025-09-17 16:05:40,141 | DEBUG    | _make_request             |    Response: 200 in 0.15s
2025-09-17 16:05:40,141 | INFO     | test_vendor_resolver      |    Testing: Should resolve to DELL
2025-09-17 16:05:40,141 | DEBUG    | _make_request             | üåê GET http://localhost:8080/resolve-vendor/DELL COMPUTER CORP
2025-09-17 16:05:41,129 | DEBUG    | _make_request             |    Response: 200 in 0.99s
2025-09-17 16:05:41,129 | WARNING  | test_vendor_resolver      |       ‚ö†Ô∏è  No canonical name found
2025-09-17 16:05:41,129 | INFO     | test_vendor_resolver      |    Testing: Should handle typo -> Microsoft
2025-09-17 16:05:41,129 | DEBUG    | _make_request             | üåê GET http://localhost:8080/resolve-vendor/Microsft
2025-09-17 16:05:42,083 | DEBUG    | _make_request             |    Response: 200 in 0.95s
2025-09-17 16:05:42,083 | WARNING  | test_vendor_resolver      |       ‚ö†Ô∏è  No canonical name found
2025-09-17 16:05:42,083 | INFO     | test_vendor_resolver      |    Testing: Should resolve to IBM
2025-09-17 16:05:42,083 | DEBUG    | _make_request             | üåê GET http://localhost:8080/resolve-vendor/IBM CORPORATION
2025-09-17 16:05:43,156 | DEBUG    | _make_request             |    Response: 200 in 1.07s
2025-09-17 16:05:43,156 | WARNING  | test_vendor_resolver      |       ‚ö†Ô∏è  No canonical name found
2025-09-17 16:05:43,157 | INFO     | test_vendor_resolver      |    Testing: Should handle partial name
2025-09-17 16:05:43,157 | DEBUG    | _make_request             | üåê GET http://localhost:8080/resolve-vendor/AMAZN
2025-09-17 16:05:44,342 | DEBUG    | _make_request             |    Response: 200 in 1.19s
2025-09-17 16:05:44,342 | WARNING  | test_vendor_resolver      |       ‚ö†Ô∏è  No canonical name found
2025-09-17 16:05:44,343 | INFO     | test_vendor_resolver      |    Testing resolver in actual queries...
2025-09-17 16:05:44,343 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:44,343 | DEBUG    | _make_request             |    Payload: {
  "question": "spending with DELL COMPUTER CORP",
  "mode": "auto"
}
2025-09-17 16:05:48,836 | DEBUG    | _make_request             |    Response: 200 in 4.49s
2025-09-17 16:05:48,836 | INFO     | test_vendor_resolver      |       ‚úÖ Query with vendor variation worked
2025-09-17 16:05:48,836 | INFO     | test_cache_performance    | 
üß™ Testing Cache Performance...
2025-09-17 16:05:48,837 | INFO     | test_cache_performance    |    First request (expecting cache miss)...
2025-09-17 16:05:48,837 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:48,837 | DEBUG    | _make_request             |    Payload: {
  "question": "top 10 vendors by spending",
  "mode": "auto"
}
2025-09-17 16:05:51,475 | DEBUG    | _make_request             |    Response: 200 in 2.64s
2025-09-17 16:05:51,979 | INFO     | test_cache_performance    |    Second request (expecting cache hit)...
2025-09-17 16:05:51,979 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:51,979 | DEBUG    | _make_request             |    Payload: {
  "question": "top 10 vendors by spending",
  "mode": "auto"
}
2025-09-17 16:05:51,987 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:05:51,988 | INFO     | test_cache_performance    |    üìä First call: 2.64s (cache hit: None)
2025-09-17 16:05:51,988 | INFO     | test_cache_performance    |    üìä Second call: 0.01s (cache hit: final_result)
2025-09-17 16:05:51,988 | INFO     | test_cache_performance    |    ‚ö° Speedup: 99.7%
2025-09-17 16:05:51,988 | INFO     | test_cache_performance    |    ‚úÖ Cache is working effectively
2025-09-17 16:05:51,988 | DEBUG    | _make_request             | üåê GET http://localhost:8080/cache/stats
2025-09-17 16:05:51,994 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:05:51,994 | INFO     | test_cache_performance    |    üìä Cache stats: {
  "_aggregate": {
    "cache_count": 7,
    "overall_hit_rate": 0,
    "total_entries": 0,
    "total_hits": 0,
    "total_misses": 0,
    "total_requests": 0
  },
  "decomposition": {
    "cache_type": "decomposition",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 1000,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 7200,
    "utilization": 0.0
  },
  "entity_extraction": {
    "cache_type": "entity_extraction",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 500,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 7200,
    "utilization": 0.0
  },
  "final_result": {
    "cache_type": "final_result",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 500,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 1800,
    "utilization": 0.0
  },
  "semantic_search": {
    "cache_type": "semantic_search",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 300,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 1800,
    "utilization": 0.0
  },
  "statistical": {
    "cache_type": "statistical",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 200,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 300,
    "utilization": 0.0
  },
  "unified_analysis": {
    "cache_type": "unified_analysis",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 500,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 7200,
    "utilization": 0.0
  },
  "vendor_resolution": {
    "cache_type": "vendor_resolution",
    "created_at": "Wed, 17 Sep 2025 16:05:39 GMT",
    "current_size": 0,
    "evictions": 0,
    "expirations": 0,
    "hit_rate": 0.0,
    "hits": 0,
    "max_size": 2000,
    "miss_rate": 0.0,
    "misses": 0,
    "total_requests": 0,
    "ttl": 3600,
    "utilization": 0.0
  }
}
2025-09-17 16:05:51,995 | INFO     | test_unified_analysis     | 
üß™ Testing Unified Analysis...
2025-09-17 16:05:51,995 | INFO     | test_unified_analysis     |    Testing complex query: Compare Dell and IBM and recommend which one to in...
2025-09-17 16:05:51,995 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask-advanced
2025-09-17 16:05:51,995 | DEBUG    | _make_request             |    Payload: {
  "question": "Compare Dell and IBM and recommend which one to invest in"
}
2025-09-17 16:05:54,423 | DEBUG    | _make_request             |    Response: 200 in 2.43s
2025-09-17 16:05:54,423 | INFO     | test_unified_analysis     |       ‚è±Ô∏è  Response time: 2.43s
2025-09-17 16:05:54,423 | INFO     | test_unified_analysis     |       üìä Optimization path: Unified Analysis (1 LLM call)
2025-09-17 16:05:54,423 | INFO     | test_unified_analysis     |       ‚úÖ Good performance for complex query
2025-09-17 16:05:54,423 | INFO     | test_unified_analysis     |    Testing complex query: Which vendors should we drop based on low performa...
2025-09-17 16:05:54,424 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask-advanced
2025-09-17 16:05:54,424 | DEBUG    | _make_request             |    Payload: {
  "question": "Which vendors should we drop based on low performance and why?"
}
2025-09-17 16:05:56,635 | DEBUG    | _make_request             |    Response: 200 in 2.21s
2025-09-17 16:05:56,636 | INFO     | test_unified_analysis     |       ‚è±Ô∏è  Response time: 2.21s
2025-09-17 16:05:56,636 | INFO     | test_unified_analysis     |       üìä Optimization path: Unified Analysis (1 LLM call)
2025-09-17 16:05:56,636 | INFO     | test_unified_analysis     |       ‚úÖ Good performance for complex query
2025-09-17 16:05:56,636 | INFO     | test_unified_analysis     |    Testing complex query: Analyze spending patterns and suggest optimization...
2025-09-17 16:05:56,636 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask-advanced
2025-09-17 16:05:56,636 | DEBUG    | _make_request             |    Payload: {
  "question": "Analyze spending patterns and suggest optimization strategies"
}
2025-09-17 16:05:57,938 | DEBUG    | _make_request             |    Response: 200 in 1.30s
2025-09-17 16:05:57,939 | INFO     | test_unified_analysis     |       ‚è±Ô∏è  Response time: 1.30s
2025-09-17 16:05:57,939 | INFO     | test_unified_analysis     |       üìä Optimization path: Unified Analysis (1 LLM call)
2025-09-17 16:05:57,939 | INFO     | test_unified_analysis     |       ‚úÖ Good performance for complex query
2025-09-17 16:05:57,939 | INFO     | run_all_tests             | 
--------------------------------------------------
2025-09-17 16:05:57,939 | INFO     | run_all_tests             | ENDPOINT TESTS
2025-09-17 16:05:57,939 | INFO     | run_all_tests             | --------------------------------------------------
2025-09-17 16:05:57,939 | INFO     | test_core_endpoints       | 
üß™ Testing Core Endpoints...
2025-09-17 16:05:57,940 | INFO     | test_core_endpoints       |    Testing GET /health: Health check
2025-09-17 16:05:57,940 | DEBUG    | _make_request             | üåê GET http://localhost:8080/health
2025-09-17 16:05:58,033 | DEBUG    | _make_request             |    Response: 200 in 0.09s
2025-09-17 16:05:58,033 | INFO     | test_core_endpoints       |       ‚úÖ Success in 0.09s
2025-09-17 16:05:58,034 | INFO     | test_core_endpoints       |    Testing GET /dashboard: Dashboard data
2025-09-17 16:05:58,034 | DEBUG    | _make_request             | üåê GET http://localhost:8080/dashboard
2025-09-17 16:05:58,497 | DEBUG    | _make_request             |    Response: 500 in 0.46s
2025-09-17 16:05:58,497 | WARNING  | _make_request             |    ‚ö†Ô∏è  Non-200 status: 500
2025-09-17 16:05:58,497 | DEBUG    | _make_request             |    Response body: {"error":"'dict' object has no attribute 'split'"}

2025-09-17 16:05:58,497 | WARNING  | test_core_endpoints       |       ‚ö†Ô∏è  Status 500 in 0.46s
2025-09-17 16:05:58,498 | INFO     | test_core_endpoints       |    Testing GET /top-vendors: Top vendors
2025-09-17 16:05:58,498 | DEBUG    | _make_request             | üåê GET http://localhost:8080/top-vendors
2025-09-17 16:05:58,774 | DEBUG    | _make_request             |    Response: 200 in 0.28s
2025-09-17 16:05:58,774 | INFO     | test_core_endpoints       |       ‚úÖ Success in 0.28s
2025-09-17 16:05:58,774 | INFO     | test_core_endpoints       |    Testing POST /ask: Basic query
2025-09-17 16:05:58,774 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:05:58,775 | DEBUG    | _make_request             |    Payload: {
  "question": "total spending"
}
2025-09-17 16:05:58,781 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:05:58,781 | INFO     | test_core_endpoints       |       ‚úÖ Success in 0.01s
2025-09-17 16:05:58,782 | INFO     | test_core_endpoints       |    Testing POST /insights: Vendor insights
2025-09-17 16:05:58,782 | DEBUG    | _make_request             | üåê POST http://localhost:8080/insights
2025-09-17 16:05:58,782 | DEBUG    | _make_request             |    Payload: {
  "focus": "vendors"
}
2025-09-17 16:05:59,046 | DEBUG    | _make_request             |    Response: 200 in 0.26s
2025-09-17 16:05:59,047 | INFO     | test_core_endpoints       |       ‚úÖ Success in 0.26s
2025-09-17 16:05:59,047 | INFO     | test_core_endpoints       |    Testing POST /compare: Vendor comparison
2025-09-17 16:05:59,047 | DEBUG    | _make_request             | üåê POST http://localhost:8080/compare
2025-09-17 16:05:59,047 | DEBUG    | _make_request             |    Payload: {
  "vendors": [
    "DELL",
    "IBM"
  ]
}
2025-09-17 16:05:59,259 | DEBUG    | _make_request             |    Response: 200 in 0.21s
2025-09-17 16:05:59,259 | INFO     | test_core_endpoints       |       ‚úÖ Success in 0.21s
2025-09-17 16:05:59,259 | INFO     | test_statistics_endpoint  | 
üß™ Testing Statistics Endpoint...
2025-09-17 16:05:59,259 | INFO     | test_statistics_endpoint  |    Testing metric: mean
2025-09-17 16:05:59,259 | DEBUG    | _make_request             | üåê POST http://localhost:8080/statistics/mean
2025-09-17 16:05:59,259 | DEBUG    | _make_request             |    Payload: {}
2025-09-17 16:05:59,611 | DEBUG    | _make_request             |    Response: 200 in 0.35s
2025-09-17 16:05:59,611 | INFO     | test_statistics_endpoint  |       ‚úÖ Calculated mean in 0.35s
2025-09-17 16:05:59,611 | INFO     | test_statistics_endpoint  |       üìä Analyzed 225466 records
2025-09-17 16:05:59,611 | INFO     | test_statistics_endpoint  |    Testing metric: median
2025-09-17 16:05:59,611 | DEBUG    | _make_request             | üåê POST http://localhost:8080/statistics/median
2025-09-17 16:05:59,612 | DEBUG    | _make_request             |    Payload: {}
2025-09-17 16:05:59,951 | DEBUG    | _make_request             |    Response: 200 in 0.34s
2025-09-17 16:05:59,952 | INFO     | test_statistics_endpoint  |       ‚úÖ Calculated median in 0.34s
2025-09-17 16:05:59,952 | INFO     | test_statistics_endpoint  |       üìä Analyzed 225466 records
2025-09-17 16:05:59,952 | INFO     | test_statistics_endpoint  |    Testing metric: stddev
2025-09-17 16:05:59,952 | DEBUG    | _make_request             | üåê POST http://localhost:8080/statistics/stddev
2025-09-17 16:05:59,952 | DEBUG    | _make_request             |    Payload: {}
2025-09-17 16:06:00,295 | DEBUG    | _make_request             |    Response: 200 in 0.34s
2025-09-17 16:06:00,296 | INFO     | test_statistics_endpoint  |       ‚úÖ Calculated stddev in 0.34s
2025-09-17 16:06:00,296 | INFO     | test_statistics_endpoint  |       üìä Analyzed 225466 records
2025-09-17 16:06:00,296 | INFO     | test_statistics_endpoint  |    Testing metric: all
2025-09-17 16:06:00,296 | DEBUG    | _make_request             | üåê POST http://localhost:8080/statistics/all
2025-09-17 16:06:00,296 | DEBUG    | _make_request             |    Payload: {}
2025-09-17 16:06:00,637 | DEBUG    | _make_request             |    Response: 200 in 0.34s
2025-09-17 16:06:00,637 | INFO     | test_statistics_endpoint  |       ‚úÖ Calculated all in 0.34s
2025-09-17 16:06:00,638 | INFO     | test_statistics_endpoint  |       üìä Analyzed 225466 records
2025-09-17 16:06:00,638 | INFO     | test_vendor_endpoint      | 
üß™ Testing Vendor Detail Endpoint...
2025-09-17 16:06:00,638 | INFO     | test_vendor_endpoint      |    Testing vendor: DELL
2025-09-17 16:06:00,638 | DEBUG    | _make_request             | üåê GET http://localhost:8080/vendor/DELL
2025-09-17 16:06:00,845 | DEBUG    | _make_request             |    Response: 200 in 0.21s
2025-09-17 16:06:00,845 | INFO     | test_vendor_endpoint      |       ‚úÖ Found vendor data in 0.21s
2025-09-17 16:06:00,845 | INFO     | test_vendor_endpoint      |    Testing vendor: IBM
2025-09-17 16:06:00,845 | DEBUG    | _make_request             | üåê GET http://localhost:8080/vendor/IBM
2025-09-17 16:06:00,946 | DEBUG    | _make_request             |    Response: 404 in 0.10s
2025-09-17 16:06:00,946 | WARNING  | _make_request             |    ‚ö†Ô∏è  Non-200 status: 404
2025-09-17 16:06:00,946 | DEBUG    | _make_request             |    Response body: {"error":"Vendor 'IBM' not found."}

2025-09-17 16:06:00,946 | INFO     | test_vendor_endpoint      |       ‚ÑπÔ∏è  Vendor not found (expected for invalid vendor)
2025-09-17 16:06:00,946 | INFO     | test_vendor_endpoint      |    Testing vendor: MICROSOFT
2025-09-17 16:06:00,946 | DEBUG    | _make_request             | üåê GET http://localhost:8080/vendor/MICROSOFT
2025-09-17 16:06:01,415 | DEBUG    | _make_request             |    Response: 200 in 0.47s
2025-09-17 16:06:01,416 | INFO     | test_vendor_endpoint      |       ‚úÖ Found vendor data in 0.47s
2025-09-17 16:06:01,416 | INFO     | test_vendor_endpoint      |    Testing vendor: InvalidVendor123
2025-09-17 16:06:01,416 | DEBUG    | _make_request             | üåê GET http://localhost:8080/vendor/InvalidVendor123
2025-09-17 16:06:01,982 | DEBUG    | _make_request             |    Response: 404 in 0.57s
2025-09-17 16:06:01,982 | WARNING  | _make_request             |    ‚ö†Ô∏è  Non-200 status: 404
2025-09-17 16:06:01,982 | DEBUG    | _make_request             |    Response body: {"error":"Vendor 'InvalidVendor123' not found."}

2025-09-17 16:06:01,983 | INFO     | test_vendor_endpoint      |       ‚ÑπÔ∏è  Vendor not found (expected for invalid vendor)
2025-09-17 16:06:01,983 | INFO     | run_all_tests             | 
--------------------------------------------------
2025-09-17 16:06:01,983 | INFO     | run_all_tests             | LOAD TESTS
2025-09-17 16:06:01,983 | INFO     | run_all_tests             | --------------------------------------------------
2025-09-17 16:06:01,983 | INFO     | test_concurrent_requests  | 
üß™ Testing Concurrent Requests (10 requests)...
2025-09-17 16:06:01,983 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,983 | DEBUG    | _make_request             |    Payload: {
  "question": "total spending"
}
2025-09-17 16:06:01,984 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,984 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,985 | DEBUG    | _make_request             |    Payload: {
  "question": "top 5 vendors"
}
2025-09-17 16:06:01,985 | DEBUG    | _make_request             |    Payload: {
  "question": "average order value"
}
2025-09-17 16:06:01,985 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,986 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,987 | DEBUG    | _make_request             |    Payload: {
  "question": "compare DELL and IBM"
}
2025-09-17 16:06:01,988 | DEBUG    | _make_request             |    Payload: {
  "question": "vendor count"
}
2025-09-17 16:06:01,990 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:06:01,990 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,991 | DEBUG    | _make_request             |    Payload: {
  "question": "total spending"
}
2025-09-17 16:06:01,992 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:06:01,992 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,993 | DEBUG    | _make_request             |    Payload: {
  "question": "top 5 vendors"
}
2025-09-17 16:06:01,996 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:06:01,996 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,996 | DEBUG    | _make_request             |    Payload: {
  "question": "average order value"
}
2025-09-17 16:06:01,997 | DEBUG    | _make_request             |    Response: 200 in 0.01s
2025-09-17 16:06:01,998 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:01,998 | DEBUG    | _make_request             |    Payload: {
  "question": "compare DELL and IBM"
}
2025-09-17 16:06:02,000 | DEBUG    | _make_request             |    Response: 200 in 0.00s
2025-09-17 16:06:02,001 | DEBUG    | _make_request             | üåê POST http://localhost:8080/ask
2025-09-17 16:06:02,001 | DEBUG    | _make_request             |    Payload: {
  "question": "vendor count"
}
2025-09-17 16:06:02,002 | DEBUG    | _make_request             |    Response: 200 in 0.00s
2025-09-17 16:06:03,752 | DEBUG    | _make_request             |    Response: 200 in 1.77s
2025-09-17 16:06:04,669 | DEBUG    | _make_request             |    Response: 200 in 2.68s
2025-09-17 16:06:05,513 | DEBUG    | _make_request             |    Response: 200 in 3.52s
2025-09-17 16:06:05,883 | DEBUG    | _make_request             |    Response: 200 in 3.88s
2025-09-17 16:06:05,884 | INFO     | test_concurrent_requests  |    üìä Results:
2025-09-17 16:06:05,884 | INFO     | test_concurrent_requests  |       Success rate: 10/10
2025-09-17 16:06:05,885 | INFO     | test_concurrent_requests  |       Total time: 3.90s
2025-09-17 16:06:05,885 | INFO     | test_concurrent_requests  |       Throughput: 2.6 req/s
2025-09-17 16:06:05,885 | INFO     | test_concurrent_requests  |       Avg response: 1.19s
2025-09-17 16:06:05,887 | INFO     | _save_results             | 
üìÅ Results saved to api_test_logs/api_results_20250917_160538.json
2025-09-17 16:06:05,887 | INFO     | _print_summary            | 
======================================================================
2025-09-17 16:06:05,887 | INFO     | _print_summary            | TEST SUMMARY
2025-09-17 16:06:05,887 | INFO     | _print_summary            | ======================================================================
2025-09-17 16:06:05,888 | INFO     | _print_summary            | 
üìä API Statistics:
2025-09-17 16:06:05,888 | INFO     | _print_summary            |    Total Requests: 41
2025-09-17 16:06:05,888 | INFO     | _print_summary            |    Total Time: 34.56s
2025-09-17 16:06:05,888 | INFO     | _print_summary            |    Average Time: 0.84s
2025-09-17 16:06:05,888 | INFO     | _print_summary            | 
üöÄ Optimization Results:
2025-09-17 16:06:05,888 | INFO     | _print_summary            |    Smart Routing: 2/2 queries bypassed LLM
2025-09-17 16:06:05,889 | INFO     | _print_summary            |    Cache: ‚úÖ Working (99.7% speedup)
2025-09-17 16:06:05,889 | INFO     | _print_summary            |    VendorResolver: 0/4 names resolved
2025-09-17 16:06:05,889 | INFO     | print_summary             | 
======================================================================
2025-09-17 16:06:05,889 | INFO     | print_summary             | PERFORMANCE SUMMARY
2025-09-17 16:06:05,889 | INFO     | print_summary             | ======================================================================
2025-09-17 16:06:05,889 | INFO     | print_summary             | 
üìä /ask:
2025-09-17 16:06:05,889 | INFO     | print_summary             |    Requests: 6
2025-09-17 16:06:05,889 | INFO     | print_summary             |    Mean: 0.51s
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Median: 0.12s
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Min/Max: 0.01s / 2.64s
2025-09-17 16:06:05,890 | INFO     | print_summary             | 
üìä /resolve-vendor/DELL COMPUTER CORP:
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Mean: 0.99s
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Median: 0.99s
2025-09-17 16:06:05,890 | INFO     | print_summary             |    Min/Max: 0.99s / 0.99s
2025-09-17 16:06:05,891 | INFO     | print_summary             | 
üìä /resolve-vendor/Microsft:
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Mean: 0.95s
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Median: 0.95s
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Min/Max: 0.95s / 0.95s
2025-09-17 16:06:05,891 | INFO     | print_summary             | 
üìä /resolve-vendor/IBM CORPORATION:
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Mean: 1.07s
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Median: 1.07s
2025-09-17 16:06:05,891 | INFO     | print_summary             |    Min/Max: 1.07s / 1.07s
2025-09-17 16:06:05,892 | INFO     | print_summary             | 
üìä /resolve-vendor/AMAZN:
2025-09-17 16:06:05,892 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,892 | INFO     | print_summary             |    Mean: 1.19s
2025-09-17 16:06:05,892 | INFO     | print_summary             |    Median: 1.19s
2025-09-17 16:06:05,892 | INFO     | print_summary             |    Min/Max: 1.19s / 1.19s
2025-09-17 16:06:05,893 | INFO     | print_summary             | 
üìä /ask-advanced:
2025-09-17 16:06:05,893 | INFO     | print_summary             |    Requests: 3
2025-09-17 16:06:05,893 | INFO     | print_summary             |    Mean: 1.98s
2025-09-17 16:06:05,893 | INFO     | print_summary             |    Median: 2.21s
2025-09-17 16:06:05,893 | INFO     | print_summary             |    Min/Max: 1.30s / 2.43s
2025-09-17 16:06:05,893 | INFO     | print_summary             | 
üìä /health:
2025-09-17 16:06:05,893 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Mean: 0.09s
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Median: 0.09s
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Min/Max: 0.09s / 0.09s
2025-09-17 16:06:05,894 | INFO     | print_summary             | 
üìä /dashboard:
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Mean: 0.46s
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Median: 0.46s
2025-09-17 16:06:05,894 | INFO     | print_summary             |    Min/Max: 0.46s / 0.46s
2025-09-17 16:06:05,894 | INFO     | print_summary             | 
üìä /top-vendors:
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Mean: 0.28s
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Median: 0.28s
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Min/Max: 0.28s / 0.28s
2025-09-17 16:06:05,895 | INFO     | print_summary             | 
üìä /insights:
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Mean: 0.26s
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Median: 0.26s
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Min/Max: 0.26s / 0.26s
2025-09-17 16:06:05,895 | INFO     | print_summary             | 
üìä /compare:
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,895 | INFO     | print_summary             |    Mean: 0.21s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Median: 0.21s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Min/Max: 0.21s / 0.21s
2025-09-17 16:06:05,896 | INFO     | print_summary             | 
üìä /statistics/mean:
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Mean: 0.35s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Median: 0.35s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Min/Max: 0.35s / 0.35s
2025-09-17 16:06:05,896 | INFO     | print_summary             | 
üìä /statistics/median:
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Mean: 0.34s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Median: 0.34s
2025-09-17 16:06:05,896 | INFO     | print_summary             |    Min/Max: 0.34s / 0.34s
2025-09-17 16:06:05,896 | INFO     | print_summary             | 
üìä /statistics/stddev:
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Mean: 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Median: 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Min/Max: 0.34s / 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             | 
üìä /statistics/all:
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Mean: 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Median: 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Min/Max: 0.34s / 0.34s
2025-09-17 16:06:05,897 | INFO     | print_summary             | 
üìä /vendor/DELL:
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Mean: 0.21s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Median: 0.21s
2025-09-17 16:06:05,897 | INFO     | print_summary             |    Min/Max: 0.21s / 0.21s
2025-09-17 16:06:05,898 | INFO     | print_summary             | 
üìä /vendor/IBM:
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Mean: 0.10s
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Median: 0.10s
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Min/Max: 0.10s / 0.10s
2025-09-17 16:06:05,898 | INFO     | print_summary             | 
üìä /vendor/MICROSOFT:
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Mean: 0.47s
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Median: 0.47s
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Min/Max: 0.47s / 0.47s
2025-09-17 16:06:05,898 | INFO     | print_summary             | 
üìä /vendor/InvalidVendor123:
2025-09-17 16:06:05,898 | INFO     | print_summary             |    Requests: 1
2025-09-17 16:06:05,899 | INFO     | print_summary             |    Mean: 0.57s
2025-09-17 16:06:05,899 | INFO     | print_summary             |    Median: 0.57s
2025-09-17 16:06:05,899 | INFO     | print_summary             |    Min/Max: 0.57s / 0.57s
2025-09-17 16:06:05,920 | INFO     | save_metrics              | üìä Performance metrics saved to api_test_logs/api_performance_20250917_160538.csv
2025-09-17 16:06:05,920 | INFO     | main                      | 
======================================================================
2025-09-17 16:06:05,920 | INFO     | main                      | TEST RUN COMPLETED
2025-09-17 16:06:05,921 | INFO     | main                      | Check api_test_logs/api_test_20250917_160538.log for detailed logs
2025-09-17 16:06:05,921 | INFO     | main                      | Check api_test_logs/api_results_20250917_160538.json for test results
2025-09-17 16:06:05,921 | INFO     | main                      | Check api_test_logs/api_performance_20250917_160538.csv for performance metrics
2025-09-17 16:06:05,921 | INFO     | main                      | ======================================================================
